#include "raylib.h"

typedef struct personagem
{
    Image imagem; 
    Vector2 pos;//posição(x,y)
    Rectangle hitbox;
    float veloci;
    Texture2D textura;
}personagem;

typedef struct coisas
{
    Vector2 pos; //posição(x,y)
    Rectangle hitbox;
    Texture2D textura;
}coisas;

typedef struct jogador
{
    char nome[20];
    int points;
    int vidas;
    int extra;
    
}jogador;
/*
void movimentofujona(float *x, float *y, float *xcam, float *ycam)
{
    if(IsKeyDown(KEY_W)||IsKeyDown(KEY_UP))
    {
        *y-=5.0f;
        *ycam+=5.0f;
    }
    else if(IsKeyDown(KEY_S)||IsKeyDown(KEY_DOWN))
    {
        *y+=5.0f;
        *ycam-=5.0f;
    }
    else if(IsKeyDown(KEY_A)||IsKeyDown(KEY_LEFT))
    {
        *x-=5.0f;
        *xcam+=5.0f;
    }
    else if(IsKeyDown(KEY_D)||IsKeyDown(KEY_RIGHT))
    {
        *x+=5.0f;
        *xcam-=5.0f;
    }
}
*/
void colisao (float *x, float *y){ //função q eu criei pra colisão (com as paredes)
    //colisão com as paredes:
    //é bom colocar essa parte antes de desenhar o personagem pra visualmente ela só ficar parada
            
    //lado esquerdo:
    if (*x + 10 <= 0) // esse +10 adicionado é para a colisão ficar visualmente melhor
        *x += 5.0f; // tem q lembrar de trocar os valores de acordo com oq precisar
            
    //lado direito:
    if (*x + 45 >= 1000) // 40 é a largura da hitbox da boneca, 1000 é o tamanho da largura da tela
        *x -= 5.0f;
            
    //cima:
    if (*y + 5 <= 0)  // de novo, esse +5 é pra ficar visualmente melhor
        *y += 5.0f;
            
    //baixo:
    if (*y + 50 >= 500)  // +50 é a altura da hitbox, 500 a altura da tela
        *y -= 5.0f;
}

 int coresaleatorias(int *r, int *g, int *b, int *a, float *time){
        if(*time<0.4f){
            *time+=GetFrameTime();
        }
        else{
            *r=GetRandomValue(0,255);
            *g=GetRandomValue(0,255);
            *b=GetRandomValue(0,255);
            *a=255;
            *time=0.0f;
        }

 }
 
void movimentofujona(float *x, float *y, int *estado, float *xhitbox, float *yhitbox){
    if(IsKeyDown(KEY_W)||IsKeyDown(KEY_UP)){
        *y-=5.0f;
        *estado = 0;
    }
    else if(IsKeyDown(KEY_S)||IsKeyDown(KEY_DOWN)){
        *y+=5.0f;
        *estado = 1;
    }
    else if(IsKeyDown(KEY_A)||IsKeyDown(KEY_LEFT)){
        *x-=5.0f;
        *estado = 2;
    }
    else if(IsKeyDown(KEY_D)||IsKeyDown(KEY_RIGHT)){
        *x+=5.0f;
        *estado = 3;
    }
    *yhitbox = *y;
    *xhitbox = *x;
    //essa função tá retornando valores pra atualizar a variavel "estadopirraia", pra poder usar no switch e printar a foto certa da pirraia em cada caso.
}

int main(void)
{
    const int screenWidth = 1000;
    const int screenHeight = 500;
    
    //Declaração de variaveis
    int x, y;
    int letterCount = 0;
    int estadopirraia=3, estadopiolho=3, estadomami=3, estadopapi=3;//atualizada pela função "movimentopirraia"
    int rgo,ggo,bgo,ago,rp,gp,bp,ap;
    float timego=0, timep=0, timemov=0;
    
    
    //Vetor de personagens
    personagem perso[50];
    //perso[0]=pirraia
    //perso[1]=piolho
    //perso[2]=mami
    //perso[3]=papi
    
    InitWindow(screenWidth, screenHeight, "Jogo RunningGirl");
    
    //Carregando imagens e transformando-as em texturas
    
    Image menu = LoadImage("/raylib/RunningGirl/fundos/menu1.png");
    ImageResize(&menu, screenWidth, screenHeight);
    Texture2D menuTexture = LoadTextureFromImage(menu);
    UnloadImage(menu);
    
    //cenario fase 1
    Image cen1 = LoadImage("/raylib/RunningGirl/fundos/casa.png");
    ImageResize(&cen1, screenWidth, screenHeight);
    Texture2D cen1tx = LoadTextureFromImage(cen1);
    UnloadImage(cen1);
    
    //botando o fundo festa(quando ganhar)
    Image party = LoadImage("/raylib/RunningGirl/fundos/finalfesta1.png");
    ImageResize(&party, screenWidth, screenHeight);
    Texture2D partytx = LoadTextureFromImage(party);
    UnloadImage(party);
    
    //botando o fundo game over
    Image gameover = LoadImage("/raylib/RunningGirl/fundos/quarto.png");
    ImageResize(&gameover, screenWidth, screenHeight);
    Texture2D gameovertx = LoadTextureFromImage(gameover);
    UnloadImage(gameover);
    
    //botando o fundo historinha
    Image historinha = LoadImage("/raylib/RunningGirl/fundos/historinhafundo.png");
    ImageResize(&historinha, screenWidth, screenHeight);
    Texture2D historinhatx = LoadTextureFromImage(historinha);
    UnloadImage(historinha);
    
    //sprite da pirraia na historinha
    Image spritehistorinha = LoadImage("/raylib/RunningGirl/sprites/pirraiafalando.png");
    //ImageResize(&spritehistorinha, screenWidth, screenHeight);
    Texture2D spritehistorinhatx = LoadTextureFromImage(spritehistorinha);
    UnloadImage(spritehistorinha); 
    Rectangle bicoleft   = { 0.0f  , 0.0f , (float)spritehistorinhatx.width/3, (float)spritehistorinhatx.height/2 };
    Rectangle bicoright  = { 0.0f  , 50.0f, (float)spritehistorinhatx.width/3, (float)spritehistorinhatx.height/2 };
    Rectangle bocaopen   = { 50.0f , 0.0f , (float)spritehistorinhatx.width/3, (float)spritehistorinhatx.height/2 };
    Rectangle bocaclose  = { 50.0f , 50.0f, (float)spritehistorinhatx.width/3, (float)spritehistorinhatx.height/2 };
    Rectangle chocs      = { 100.0f, 0.0f , (float)spritehistorinhatx.width/3, (float)spritehistorinhatx.height/2 };
    Rectangle safada     = { 100.0f, 50.0f, (float)spritehistorinhatx.width/3, (float)spritehistorinhatx.height/2 };
    float xhis,yhis;
    //sprites balao de fala
    Image spritefala = LoadImage("/raylib/RunningGirl/sprites/falas1.png");
    //ImageResize(&spritehistorinha, screenWidth, screenHeight);
    Texture2D spritefalatx = LoadTextureFromImage(spritefala);
    UnloadImage(spritefala);
    Rectangle balao1  = { 0.0f  , 0.0f  , (float)spritefalatx.width/3, (float)spritefalatx.height/3 };
    Rectangle balao2  = { 300.0f, 0.0f  , (float)spritefalatx.width/3, (float)spritefalatx.height/3 };
    Rectangle balao3  = { 600.0f, 0.0f  , (float)spritefalatx.width/3, (float)spritefalatx.height/3 };
    Rectangle balao4  = { 0.0f  , 220.0f, (float)spritefalatx.width/3, (float)spritefalatx.height/3 };
    Rectangle balao5  = { 300.0f, 220.0f, (float)spritefalatx.width/3, (float)spritefalatx.height/3 };
    Rectangle balao6  = { 600.0f, 220.0f, (float)spritefalatx.width/3, (float)spritefalatx.height/3 };
    Rectangle balao7  = { 0.0f  , 440.0f, (float)spritefalatx.width/3, (float)spritefalatx.height/3 };
    Rectangle balao8  = { 300.0f, 440.0f, (float)spritefalatx.width/3, (float)spritefalatx.height/3 };
    Rectangle balao9  = { 600.0f, 440.0f, (float)spritefalatx.width/3, (float)spritefalatx.height/3 };
    float xfala,yfala;
    //preenchendo a fujona
    perso[0].imagem = LoadImage("/raylib/RunningGirl/sprites/pirraia.png");
    ImageResize(&perso[0].imagem, 140, 35);
    perso[0].textura = LoadTextureFromImage(perso[0].imagem);
    perso[0].pos.x = 200.0;//posição x incial da pirraia
    perso[0].pos.y = 60.0;//posição y incial da pirraia
    perso[0].hitbox.x = perso[0].pos.x;
    perso[0].hitbox.y = perso[0].pos.y;
    perso[0].hitbox.width = 32;
    perso[0].hitbox.height = 45;
    
    //sprite DA PIRRAIA
    Rectangle leftpirraia  = { 0.0f  , 0.0f, (float)perso[0].textura.width/4, (float)perso[0].textura.height };//PEGA A IMAGEM DA PIRRAIA VOLTADA PRA ESQUERDA
    Rectangle rightpirraia = { 35.0f , 0.0f, (float)perso[0].textura.width/4, (float)perso[0].textura.height };//PEGA A IMAGEM DA PIRRAIA VOLTADA PRA DIREITA
    Rectangle uppirraia    = { 70.0f , 0.0f, (float)perso[0].textura.width/4, (float)perso[0].textura.height };//PEGA A IMAGEM DA PIRRAIA VOLTADA PRA CIMA
    Rectangle downpirraia  = { 105.0f, 0.0f, (float)perso[0].textura.width/4, (float)perso[0].textura.height };//PEGA A IMAGEM DA PIRRAIA VOLTADA PRA BAIXO
    
    //preenchendo o piolho
    perso[1].imagem = LoadImage("/raylib/RunningGirl/sprites/piolho.png");
    ImageResize(&perso[1].imagem, 140, 35);
    perso[1].textura = LoadTextureFromImage(perso[1].imagem);
    perso[1].pos.x = 730.0;//posição x incial do piolho
    perso[1].pos.y = 90.0;//posição y incial do piolho
    perso[1].hitbox.x = perso[1].pos.x;
    perso[1].hitbox.y = perso[1].pos.y;
    perso[1].hitbox.width = 31;
    perso[1].hitbox.height = 41;
    
    //sprite DO PIOLHO
    Rectangle leftpiolho  = { 0.0f  , 0.0f, (float)perso[1].textura.width/4, (float)perso[1].textura.height };//PEGA A IMAGEM DO PIOLHO VOLTADA PRA ESQUERDA
    Rectangle rightpiolho = { 35.0f , 0.0f, (float)perso[1].textura.width/4, (float)perso[1].textura.height };//PEGA A IMAGEM DO PIOLHO VOLTADA PRA DIREITA
    Rectangle uppiolho    = { 70.0f , 0.0f, (float)perso[1].textura.width/4, (float)perso[1].textura.height };//PEGA A IMAGEM DA DO PIOLHO VOLTADA PRA CIMA
    Rectangle downpiolho  = { 105.0f, 0.0f, (float)perso[1].textura.width/4, (float)perso[1].textura.height };//PEGA A IMAGEM DO PIOLHO VOLTADA PRA BAIXO
    
    //preenchendo a mami
    perso[2].imagem = LoadImage("/raylib/RunningGirl/sprites/mamis.png");
    perso[2].textura = LoadTextureFromImage(perso[2].imagem);
    perso[2].pos.x = 220.0;//posição x incial da mae
    perso[2].pos.y = 440.0;//posição y incial da mae
    perso[2].hitbox.x = perso[2].pos.x;
    perso[2].hitbox.y = perso[2].pos.y;
    perso[2].hitbox.width = 26;
    perso[2].hitbox.height = 40;
    
    //sprite DA MAMI
    Rectangle leftmami  = { 0.0f  , 0.0f, (float)perso[2].textura.width/4, (float)perso[2].textura.height };//PEGA A IMAGEM DA MAMI VOLTADA PRA ESQUERDA
    Rectangle rightmami = { 50.0f , 0.0f, (float)perso[2].textura.width/4, (float)perso[2].textura.height };//PEGA A IMAGEM DA MAMI VOLTADA PRA DIREITA
    Rectangle upmami    = { 100.0f, 0.0f, (float)perso[2].textura.width/4, (float)perso[2].textura.height };//PEGA A IMAGEM DA MAMI VOLTADA PRA CIMA
    Rectangle downmami  = { 150.0f, 0.0f, (float)perso[2].textura.width/4, (float)perso[2].textura.height };//PEGA A IMAGEM DA MAMI VOLTADA PRA BAIXO
    
    //preenchendo o papi
    perso[3].imagem = LoadImage("/raylib/RunningGirl/sprites/papis.png");
    perso[3].textura = LoadTextureFromImage(perso[3].imagem);
    perso[3].pos.x = 777.0;//posição x incial do pai
    perso[3].pos.y = 446.0;//posição y incial do pai
    perso[3].hitbox.x = perso[3].pos.x;
    perso[3].hitbox.y = perso[3].pos.y;
    perso[3].hitbox.width = 20;
    perso[3].hitbox.height = 40;
    
     //sprite DO PAPI
    Rectangle leftpapi  = { 0.0f  , 0.0f, (float)perso[3].textura.width/4, (float)perso[3].textura.height };//PEGA A IMAGEM DO PAPI VOLTADA PRA ESQUERDA
    Rectangle rightpapi = { 50.0f , 0.0f, (float)perso[3].textura.width/4, (float)perso[3].textura.height };//PEGA A IMAGEM DO PAPI VOLTADA PRA DIREITA
    Rectangle uppapi    = { 100.0f, 0.0f, (float)perso[3].textura.width/4, (float)perso[3].textura.height };//PEGA A IMAGEM DO PAPI VOLTADA PRA CIMA
    Rectangle downpapi  = { 150.0f, 0.0f, (float)perso[3].textura.width/4, (float)perso[3].textura.height };//PEGA A IMAGEM DO PAPI VOLTADA PRA BAIXO
   
    
    
    //preenchendo a struct jogador
    jogador jog;
    for(int i = 0; i < 19; i++)
    {
        jog.nome[i] = '_';
    }
    jog.points = 0;
    jog.vidas = 3;
    jog.extra = 0;
    //jog.fujona = perso[0];
    
    coisas moeda[100];
    //colocando imagem nas moedas
    Image coin = LoadImage("/raylib/RunningGirl/objetos/cedulas.png");
    ImageResize(&coin, 20, 20);
    moeda[1].textura = LoadTextureFromImage(coin);
    UnloadImage(coin);
    
    //posicionando as moedas no mapa
    
    moeda[0].pos.x = 690;
    moeda[0].pos.y = 100;
    moeda[1].pos.x = 775;
    moeda[1].pos.y = 100;
    moeda[2].pos.x = 725;
    moeda[2].pos.y = 70;
    moeda[3].pos.x = 735;
    moeda[3].pos.y = 115;
    moeda[4].pos.x = 735;
    moeda[4].pos.y = 160;
    moeda[5].pos.x = 675;
    moeda[5].pos.y = 200;
    moeda[6].pos.x = 885;
    moeda[6].pos.y = 185;
    moeda[7].pos.x = 826;
    moeda[7].pos.y = 205;
    moeda[8].pos.x = 735;
    moeda[8].pos.y = 202;
    moeda[9].pos.x = 826;
    moeda[9].pos.y = 250;
    
    int count = 895;
    
    for(int i = 10; i <= 27; i++)
    {
        moeda[i].pos.x = count;
        moeda[i].pos.y = 297;
        count -= 46;
    }
    
    moeda[28].pos.x = 765;
    moeda[28].pos.y = 340;
    moeda[29].pos.x = 765;
    moeda[29].pos.y = 380;
    moeda[30].pos.x = 710;
    moeda[30].pos.y = 440;
    moeda[31].pos.x = 830;
    moeda[31].pos.y = 415;
    moeda[32].pos.x = 860;
    moeda[32].pos.y = 440;
    moeda[33].pos.x = 815;
    moeda[33].pos.y = 450;
    moeda[34].pos.x = 785;
    moeda[34].pos.y = 430;
    moeda[35].pos.x = 745;
    moeda[35].pos.y = 420;
    moeda[36].pos.x = 780;
    moeda[36].pos.y = 470;
    moeda[37].pos.x = 750;
    moeda[37].pos.y = 450;
    moeda[38].pos.x = 492;
    moeda[38].pos.y = 256;
    moeda[39].pos.x = 492;
    moeda[39].pos.y = 216;
    moeda[40].pos.x = 492;
    moeda[40].pos.y = 340;
    moeda[41].pos.x = 492;
    moeda[41].pos.y = 380;
    moeda[42].pos.x = 492;
    moeda[42].pos.y = 218;
    
    count = 545;
    
    for(int i = 43; i <= 46; i++)
    {
        moeda[i].pos.x = count;
        moeda[i].pos.y = 415;
        count -= 46;
    }
    
    moeda[47].pos.x = 336;
    moeda[47].pos.y = 397;
    moeda[48].pos.x = 360;
    moeda[48].pos.y = 420;
    moeda[49].pos.x = 520;
    moeda[49].pos.y = 180;
    moeda[50].pos.x = 480;
    moeda[50].pos.y = 150;
    moeda[51].pos.x = 460;
    moeda[51].pos.y = 191;
    
    count = 260;
    
    for(int i = 52; i <= 56; i++)
    {
        moeda[i].pos.y = count;
        moeda[i].pos.x = 278;
        count -= 46;
    }
    
    moeda[57].pos.x = 315;
    moeda[57].pos.y = 93;  
    moeda[58].pos.x = 180;
    moeda[58].pos.y = 80;
    moeda[59].pos.x = 220;
    moeda[59].pos.y = 66;
    
    count = 334;
    for(int i = 60; i <= 64; i++)
    {
        moeda[i].pos.y = count;
        moeda[i].pos.x = 218;
        count += 46;
    }
    
    moeda[65].pos.x = 250;
    moeda[65].pos.y = 440;
    moeda[66].pos.x = 130;
    moeda[66].pos.y = 450;
    moeda[67].pos.x = 170;
    moeda[67].pos.y = 416;
    moeda[68].pos.x = 180;
    moeda[68].pos.y = 456;
    moeda[69].pos.x = 127;
    moeda[69].pos.y = 265;
    moeda[70].pos.x = 127;
    moeda[70].pos.y = 223;
    moeda[71].pos.x = 139;
    moeda[71].pos.y = 174;
    moeda[72].pos.x = 103;
    moeda[72].pos.y = 190;
    
    //preenchendo as hitbox das moedinhas
    for(int i = 0; i <= 72; i++)
    {
        moeda[i].hitbox.x = moeda[i].pos.x + 10;
        moeda[i].hitbox.y = moeda[i].pos.y + 10;
        moeda[i].hitbox.width = 1;
        moeda[i].hitbox.height = 1;
    }
    
    
    //declarando e posicionando a chavinha
    coisas chave;
    
    Image chavinha = LoadImage("/raylib/RunningGirl/objetos/chave.png");
    ImageResize(&chavinha, 25, 25);
    chave.textura = LoadTextureFromImage(chavinha);
    UnloadImage(chavinha);
    
    chave.pos.x = 570;
    chave.pos.y = 175;
    chave.hitbox.x = chave.pos.x + 10;
    chave.hitbox.y = chave.pos.y + 10;
    chave.hitbox.width = 1;
    chave.hitbox.height = 1;
    
    
    /*
    //Declaração da camera
    Camera2D cam;
    cam.zoom = 2.2f;
    cam.rotation = 0.0f;
    cam.offset = (Vector2){0.0f,0.0f};
    */
    SetTargetFPS(60);
    
    while(!WindowShouldClose())
    {
        x=GetMouseX();
        y=GetMouseY();
        
        BeginDrawing();
        
            //Colocando fundo do menu
            DrawTexture(menuTexture, 0, 0, RAYWHITE);
            
            //printar localização do mouse
            DrawText(TextFormat("%i | %i",x ,y), 500, 30, 20, BLACK);
            
            
            //printar botões
            if(x >= 250 && x <= 406 && y >= 290 && y <= 321)
            {
                DrawText("Novo Jogo",238,290,35,WHITE);
                
                //Verificando se o botão JOGAR foi clicado
                if(IsMouseButtonDown(MOUSE_LEFT_BUTTON))
                {
                    
                    while(1)
                    {
                        if(IsKeyPressed(KEY_END))
                        {
                            return 0;
                        }
                        
                        BeginDrawing();
                            
                            ClearBackground(RAYWHITE);
                            DrawRectangle(0, 0, screenWidth, screenHeight, RAYWHITE);
                            DrawText("Insira seu nome:", 200, 100, 25, BLACK);
                            DrawRectangle(200, 130, 600, 40, SKYBLUE);
                            DrawText("Pressione ENTER para continuar", 200, 180, 15, BLACK);
                            
                            int key = GetKeyPressed();

                            if ((key >= 32) && (key <= 125) && (letterCount < 19))
                            {
                                jog.nome[letterCount] = (char)key;
                                letterCount++;
                            }

                            else if (IsKeyPressed(KEY_BACKSPACE) && letterCount > 0)
                            {
                                letterCount--;
                                jog.nome[letterCount] = '\0';
                            }
                            
                            else if(IsKeyPressed(KEY_ENTER)) 
                            {
                                break;
                            }
                            
                            DrawText(TextFormat("%s", jog.nome), 220, 140, 25, WHITE);
                            
                        EndDrawing();
                    }
                    
                    //JOGO
                    while(1)
                    {
                        if(IsKeyPressed(KEY_END)||IsKeyPressed(KEY_F3))
                        {
                            return 0;
                        }
                            
                        x=GetMouseX();
                        y=GetMouseY();
                        
                        BeginDrawing();  
                        //raio da camera
                        //cam.target = (Vector2){perso[0].pos.x-200, perso[0].pos.y-200};
                        //BeginMode2D(cam);
                        ClearBackground(WHITE);
                        
                        DrawTexture(cen1tx, 0,0,RAYWHITE);//Printar cenario
                        DrawText(TextFormat("%i | %i",x ,y), 500, 30, 20, BLACK);
                        //colisão com as paredes:
                        //importante colocar a colisão antes de colocar a boneca, pra ficar visualmente melhor
                        colisao (&perso[0].pos.x, &perso[0].pos.y);
                        

                        Vector2 posicaopirraia = {perso[0].pos.x, perso[0].pos.y};//variavel da sprite da pirraia, pra as sprites terem a mesma posicao dela                       
                        movimentofujona( &perso[0].pos.x, &perso[0].pos.y, &estadopirraia, &perso[0].hitbox.x, &perso[0].hitbox.y );//Movimentação pirraia
                        switch(estadopirraia){//pra printar a pirraia do lado certo e sem sumir
                            case 0:
                            DrawTextureRec(perso[0].textura, uppirraia, posicaopirraia , RAYWHITE);
                            break;
                            case 1:
                            DrawTextureRec(perso[0].textura, downpirraia, posicaopirraia , RAYWHITE);
                            break;
                            case 2:
                            DrawTextureRec(perso[0].textura, leftpirraia, posicaopirraia , RAYWHITE);
                            break;
                            case 3:
                            DrawTextureRec(perso[0].textura, rightpirraia, posicaopirraia , RAYWHITE);
                            break;
                        }
                        
                        //printar e checar colisão dinheirinho
                        for(int i = 0; i <= 72; i++)
                        {
                            if(CheckCollisionRecs(moeda[i].hitbox, perso[0].hitbox) == 1)
                            {
                                jog.points++;
                                
                                moeda[i].hitbox.x = -30;
                                moeda[i].hitbox.y = -30;
                                moeda[i].pos.x = -30;
                                moeda[i].pos.y = -30;
                            }
                            
                            DrawTexture(moeda[1].textura, moeda[i].pos.x, moeda[i].pos.y, RAYWHITE);
                         
                        }
                        
                        
                        
                        //printar e checar colisão da chave
                        DrawTexture(chave.textura, chave.pos.x, chave.pos.y, RAYWHITE);
                        
                        if(CheckCollisionRecs(chave.hitbox, perso[0].hitbox) == 1)
                        {
                            chave.pos.x = -30;
                            chave.pos.y = -30;
                            chave.hitbox.x = chave.pos.x;
                            chave.hitbox.y = chave.pos.y;
                            
                            jog.extra++;
                        }
                        
                        
                        DrawRectangle(350, 465, 300, 35, SKYBLUE);
                        DrawText(TextFormat("Dinheirinho: %i\t|\tExtra: %i", jog.points, jog.extra), 350, 470, 20, WHITE);
                        
                        //EndMode2D();
                        EndDrawing();
                        
                        
                    }
                }
            }
            else
            {
                DrawText("Novo Jogo",250,290,30,WHITE);
            }
            
            
            if(x >= 550 && x <= 750 && y >= 290 && y <= 321)
            {
                DrawText("Jogos Salvos",535,290,35,WHITE);
                
                if(IsMouseButtonDown(MOUSE_LEFT_BUTTON))
                {
                    while(1)
                    {
                        BeginDrawing();
                            ClearBackground(RAYWHITE);
                            DrawRectangle(0, 0, screenWidth, screenHeight, RAYWHITE);
                        EndDrawing();
                        
                        if(IsKeyPressed(KEY_END))
                        {
                            return 0;
                        }
                            
                    }
                }
            }
            else
            {
                DrawText("Jogos Salvos",550,290,30,WHITE);
            }
            
            if(x >= 428 && x <= 545 && y >= 350 && y <= 380)
            {
                DrawText("Ranking",420,350,35,WHITE);
                
                if(IsMouseButtonDown(MOUSE_LEFT_BUTTON))
                {
                    while(1)
                    {
                        BeginDrawing();
                            ClearBackground(RAYWHITE);
                            DrawRectangle(0, 0, screenWidth, screenHeight, RAYWHITE);
                        EndDrawing();
                        
                        if(IsKeyPressed(KEY_END))
                        {
                            return 0;
                        }
                            
                    }
                }
            }
            else
            {
                DrawText("Ranking",430,350,30,WHITE);
            }
            
        
        EndDrawing();
    }
    
    //descarregar imagens e texturas
    UnloadTexture(menuTexture);
    UnloadTexture(perso[0].textura);
    UnloadTexture(cen1tx);
    UnloadTexture(partytx);
    UnloadTexture(gameovertx);
    UnloadTexture(historinhatx);
    UnloadTexture(spritehistorinhatx);
    UnloadTexture(spritefalatx);
    UnloadTexture(moeda[1].textura);
    UnloadTexture(chave.textura);
    
    CloseWindow();
    
    return 0;
}
